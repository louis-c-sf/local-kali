import{r as e,h as s,H as t}from"./p-ee0b9025.js";import{l as a}from"./p-d66dbbd6.js";import"./p-c74b54ba.js";import{a as l}from"./p-4d2049bc.js";import"./p-4ebd2c24.js";import"./p-ca993e0f.js";import"./p-949334ec.js";import{T as i}from"./p-64c0718a.js";import"./p-3c89b68a.js";import"./p-d8454b73.js";import"./p-a3b5bd35.js";import"./p-80de33dc.js";import"./p-93cac3a6.js";import"./p-83f217d4.js";const r={en:{default:{Name:"Name",Untitled:"Untitled",Id:"Id",Version:"Latest Version",PublishedVersion:"Published Version",Status:"Status",Published:"Published",Draft:"Draft",Properties:"{{name}} Properties"}},"zh-CN":{default:{Name:"名称",Untitled:"无题",Id:"Id",Version:"最新版本",PublishedVersion:"发布版本",Status:"状态",Published:"已发布",Draft:"草稿",Properties:"{{name}} 属性"}},"nl-NL":{default:{Name:"Naam",Untitled:"Untitled",Id:"Id",Version:"Laatste Versie",PublishedVersion:"Gepubliceerde Versie",Status:"Status",Published:"Published",Draft:"Draft",Properties:"{{name}} Properties"}}};let d=class{constructor(s){e(this,s)}async workflowIdChangedHandler(e){await this.loadWorkflowBlueprint(e),await this.loadPublishedVersion()}async componentWillLoad(){this.i18next=await a(this.culture,r),await this.loadWorkflowBlueprint(),await this.loadPublishedVersion()}render(){const e=(e,s)=>this.i18next.t(e,s),{workflowBlueprint:a}=this,l=a.name||this.i18next.t("Untitled"),{isPublished:i}=a;return s(t,null,s("dl",{class:"elsa-border-b elsa-border-gray-200 elsa-divide-y elsa-divide-gray-200"},s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Name")),s("dd",{class:"elsa-text-gray-900"},l)),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Id")),s("dd",{class:"elsa-text-gray-900 elsa-break-all"},a.id||"-")),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Version")),s("dd",{class:"elsa-text-gray-900"},a.version)),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("PublishedVersion")),s("dd",{class:"elsa-text-gray-900"},this.publishedVersion||"-")),s("div",{class:"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium"},s("dt",{class:"elsa-text-gray-500"},e("Status")),s("dd",{class:i?"elsa-text-green-600":"elsa-text-yellow-700"},e(i?"Published":"Draft")))))}createClient(){return l(this.serverUrl)}async loadPublishedVersion(){const e=await this.createClient(),{workflowBlueprint:s}=this;if(s.isPublished){const t=await e.workflowDefinitionsApi.getMany([s.id],{isPublished:!0}),a=s.isPublished?s:t.find((e=>e.definitionId==s.id));a&&(this.publishedVersion=a.version)}else this.publishedVersion=0}async loadWorkflowBlueprint(e=this.workflowId){const s=await this.createClient();this.workflowBlueprint=await s.workflowRegistryApi.get(e,{isLatest:!0})}static get watchers(){return{workflowId:["workflowIdChangedHandler"]}}};i.injectProps(d,["serverUrl","culture"]);export{d as elsa_workflow_blueprint_properties_panel}