import{a as t}from"./p-3c89b68a.js";import{H as i,E as a}from"./p-d8454b73.js";import{c as n}from"./p-a3b5bd35.js";import{e as s}from"./p-93cac3a6.js";import{g as o}from"./p-c74b54ba.js";let e=null,r=null;const w=async function(n){if(e)return e;const o={baseURL:n};e=t.create(o);const r=new i(e);return await s.emit(a.HttpClientConfigCreated,this,{config:o}),await s.emit(a.HttpClientCreated,this,{service:r,_httpClient:e}),e},c=async function(t){if(r)return r;const i=await w(t);return r={activitiesApi:{list:async()=>(await i.get("v1/activities")).data},workflowDefinitionsApi:{list:async(t,a,s)=>{const e={version:o(s)};(t||0===t)&&(e.page=t),a&&(e.pageSize=a);const r=n.map(e,((t,i)=>`${i}=${t}`)),w=r.length>0?`?${r.join("&")}`:"";return(await i.get(`v1/workflow-definitions${w}`)).data},getMany:async(t,a)=>{const n=o(a);return(await i.get(`v1/workflow-definitions?ids=${t.join(",")}&version=${n}`)).data.items},getVersionHistory:async t=>(await i.get(`v1/workflow-definitions/${t}/history`)).data.items,getByDefinitionAndVersion:async(t,a)=>{const n=o(a);return(await i.get(`v1/workflow-definitions/${t}/${n}`)).data},save:async t=>(await i.post("v1/workflow-definitions",t)).data,delete:async(t,a)=>{let n=`v1/workflow-definitions/${t}`;a&&(n=`${n}/${o(a)}`),await i.delete(n)},retract:async t=>(await i.post(`v1/workflow-definitions/${t}/retract`)).data,publish:async t=>(await i.post(`v1/workflow-definitions/${t}/publish`)).data,revert:async(t,a)=>(await i.post(`v1/workflow-definitions/${t}/revert/${a}`)).data,export:async(t,a)=>{const n=o(a),s=await i.post(`v1/workflow-definitions/${t}/${n}/export`,null,{responseType:"blob"}),e=s.headers["content-disposition"];return{fileName:e?e.split(";")[1].split("=")[1]:`workflow-definition-${t}.json`,data:s.data}},import:async(t,a)=>{const n=new FormData;return n.append("file",a),(await i.post(`v1/workflow-definitions/${t}/import`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}},workflowTestApi:{execute:async t=>(await i.post("v1/workflow-test/execute",t)).data,restartFromActivity:async t=>{await i.post("v1/workflow-test/restartFromActivity",t)},stop:async t=>{await i.post("v1/workflow-test/stop",t)}},workflowRegistryApi:{list:async(t,a,s,e)=>{const r={version:o(e)};(a||0===a)&&(r.page=a),s&&(r.pageSize=s);const w=n.map(r,((t,i)=>`${i}=${t}`)),c=w.length>0?`?${w.join("&")}`:"";return(await i.get(`v1/workflow-registry/by-provider/${t}${c}`)).data},listAll:async t=>{const a={version:o(t)},s=n.map(a,((t,i)=>`${i}=${t}`)),e=s.length>0?`?${s.join("&")}`:"";return(await i.get(`v1/workflow-registry${e}`)).data},findManyByDefinitionVersionIds:async t=>{if(0==t.length)return[];const a=t.join(",");return(await i.get(`v1/workflow-registry/by-definition-version-ids?ids=${a}`)).data},get:async(t,a)=>{const n=o(a);return(await i.get(`v1/workflow-registry/${t}/${n}`)).data}},workflowInstancesApi:{list:async(t,a,s,o,e,r,w)=>{const c={};s&&(c.workflow=s),w&&(c.correlationId=w),null!=o&&(c.status=o),e&&(c.orderBy=e),r&&(c.searchTerm=r),t&&(c.page=t),a&&(c.pageSize=a);const l=n.map(c,((t,i)=>`${i}=${t}`)),f=l.length>0?`?${l.join("&")}`:"";return(await i.get(`v1/workflow-instances${f}`)).data},get:async t=>(await i.get(`v1/workflow-instances/${t}`)).data,cancel:async t=>{await i.post(`v1/workflow-instances/${t}/cancel`)},delete:async t=>{await i.delete(`v1/workflow-instances/${t}`)},retry:async t=>{await i.post(`v1/workflow-instances/${t}/retry`,{runImmediately:!1})},bulkCancel:async t=>(await i.post("v1/workflow-instances/bulk/cancel",t)).data,bulkDelete:async t=>(await i.delete("v1/workflow-instances/bulk",{data:t})).data,bulkRetry:async t=>(await i.post("v1/workflow-instances/bulk/retry",t)).data},workflowExecutionLogApi:{get:async(t,a,s)=>{const o={};a&&(o.page=a),s&&(o.pageSize=s);const e=n.map(o,((t,i)=>`${i}=${t}`)),r=e.length>0?`?${e.join("&")}`:"";return(await i.get(`v1/workflow-instances/${t}/execution-log${r}`)).data}},scriptingApi:{getJavaScriptTypeDefinitions:async(t,a)=>(await i.post(`v1/scripting/javascript/type-definitions/${t}?t=${(new Date).getTime()}`,a)).data},designerApi:{runtimeSelectItemsApi:{get:async(t,a)=>(await i.post("v1/designer/runtime-select-list",{providerTypeName:t,context:a})).data}},activityStatsApi:{get:async(t,a)=>(await i.get(`v1/workflow-instances/${t}/activity-stats/${a}`)).data},workflowStorageProvidersApi:{list:async()=>(await i.get("v1/workflow-storage-providers")).data},workflowProvidersApi:{list:async()=>(await i.get("v1/workflow-providers")).data},workflowChannelsApi:{list:async()=>(await i.get("v1/workflow-channels")).data},featuresApi:{list:async()=>(await i.get("v1/features")).data.features}},r};export{c as a,w as c}