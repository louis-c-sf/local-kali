import{r as s,a as t,h as e,H as a,c as i,d as l,e as o}from"./p-ee0b9025.js";import{l as n}from"./p-d66dbbd6.js";import{e as r,l as h}from"./p-fd4270fe.js";import{e as c}from"./p-93cac3a6.js";import"./p-c74b54ba.js";import{E as d}from"./p-d8454b73.js";import"./p-a3b5bd35.js";import{g as u,a as f}from"./p-4ebd2c24.js";import"./p-ca993e0f.js";import"./p-949334ec.js";import{G as p}from"./p-1ad2a464.js";import{T as m}from"./p-64c0718a.js";import{a as w}from"./p-7462b7bd.js";import{c as g}from"./p-151d0027.js";import{t as y}from"./p-7cfaa324.js";import{a as b,c as v}from"./p-4d2049bc.js";import{f as x}from"./p-34c33cf9.js";import{p as k}from"./p-1c8d77a0.js";import{p as j}from"./p-e6163d8c.js";import{A as C}from"./p-1b1f9628.js";import"./p-80de33dc.js";import"./p-fe704386.js";import"./p-83f217d4.js";import"./p-3c89b68a.js";const P=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),W=s=>s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=s=>s.replace(/([=!:$/()])/g,"\\$1"),L=s=>s&&s.sensitive?"":"i",E=(s,t,e)=>{for(var a=(e=e||{}).strict,i=!1!==e.end,l=W(e.delimiter||"/"),o=e.delimiters||"./",n=[].concat(e.endsWith||[]).map(W).concat("$").join("|"),r="",h=!1,c=0;c<s.length;c++){var d=s[c];if("string"==typeof d)r+=W(d),h=c===s.length-1&&o.indexOf(d[d.length-1])>-1;else{var u=W(d.prefix||""),f=d.repeat?"(?:"+d.pattern+")(?:"+u+"(?:"+d.pattern+"))*":d.pattern;t&&t.push(d),r+=d.optional?d.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")"}}return i?(a||(r+="(?:"+l+")?"),r+="$"===n?"$":"(?="+n+")"):(a||(r+="(?:"+l+"(?="+n+"))?"),h||(r+="(?="+l+"|"+n+")")),new RegExp("^"+r,L(e))},_=(s,t,e)=>s instanceof RegExp?((s,t)=>{if(!t)return s;var e=s.source.match(/\((?!\?)/g);if(e)for(var a=0;a<e.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return s})(s,t):Array.isArray(s)?((s,t,e)=>{for(var a=[],i=0;i<s.length;i++)a.push(_(s[i],t,e).source);return new RegExp("(?:"+a.join("|")+")",L(e))})(s,t,e):((s,t,e)=>E(((s,t)=>{for(var e,a=[],i=0,l=0,o="",n=t&&t.delimiter||"/",r=t&&t.delimiters||"./",h=!1;null!==(e=P.exec(s));){var c=e[0],d=e[1],u=e.index;if(o+=s.slice(l,u),l=u+c.length,d)o+=d[1],h=!0;else{var f="",p=s[l],m=e[2],w=e[3],g=e[4],y=e[5];if(!h&&o.length){var b=o.length-1;r.indexOf(o[b])>-1&&(f=o[b],o=o.slice(0,b))}o&&(a.push(o),o="",h=!1);var v=f||n,x=w||g;a.push({name:m||i++,prefix:f,delimiter:v,optional:"?"===y||"*"===y,repeat:"+"===y||"*"===y,partial:""!==f&&void 0!==p&&p!==f,pattern:x?O(x):"[^"+W(v)+"]+?"})}}return(o||l<s.length)&&a.push(o+s.substr(l)),a})(s,e),t,e))(s,t,e),R=(s,t)=>new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(s),T=(s,t)=>R(s,t)?s.substr(t.length):s,D=s=>"/"===s.charAt(s.length-1)?s.slice(0,-1):s,M=s=>"/"===s.charAt(0)?s:"/"+s,$=s=>"/"===s.charAt(0)?s.substr(1):s,S=s=>{const{pathname:t,search:e,hash:a}=s;let i=t||"/";return e&&"?"!==e&&(i+="?"===e.charAt(0)?e:`?${e}`),a&&"#"!==a&&(i+="#"===a.charAt(0)?a:`#${a}`),i},U=s=>"/"===s.charAt(0),H=s=>Math.random().toString(36).substr(2,s),A=(s,t)=>{for(let e=t,a=e+1,i=s.length;a<i;e+=1,a+=1)s[e]=s[a];s.pop()},N=(s,t)=>{if(s===t)return!0;if(null==s||null==t)return!1;if(Array.isArray(s))return Array.isArray(t)&&s.length===t.length&&s.every(((s,e)=>N(s,t[e])));const e=typeof s;if(e!==typeof t)return!1;if("object"===e){const e=s.valueOf(),a=t.valueOf();if(e!==s||a!==t)return N(e,a);const i=Object.keys(s),l=Object.keys(t);return i.length===l.length&&i.every((e=>N(s[e],t[e])))}return!1},I=(s,t,e,a)=>{let i;"string"==typeof s?(i=(s=>{let t=s||"/",e="",a="";const i=t.indexOf("#");-1!==i&&(a=t.substr(i),t=t.substr(0,i));const l=t.indexOf("?");return-1!==l&&(e=t.substr(l),t=t.substr(0,l)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a,query:{},key:""}})(s),void 0!==t&&(i.state=t)):(i=Object.assign({pathname:""},s),i.search&&"?"!==i.search.charAt(0)&&(i.search="?"+i.search),i.hash&&"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash),void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}var l;return i.key=e,a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=((s,t="")=>{let e,a=t&&t.split("/")||[],i=0;const l=s&&s.split("/")||[],o=s&&U(s),n=t&&U(t),r=o||n;if(s&&U(s)?a=l:l.length&&(a.pop(),a=a.concat(l)),!a.length)return"/";if(a.length){const s=a[a.length-1];e="."===s||".."===s||""===s}else e=!1;for(let s=a.length;s>=0;s--){const t=a[s];"."===t?A(a,s):".."===t?(A(a,s),i++):i&&(A(a,s),i--)}if(!r)for(;i--;i)a.unshift("..");!r||""===a[0]||a[0]&&U(a[0])||a.unshift("");let h=a.join("/");return e&&"/"!==h.substr(-1)&&(h+="/"),h})(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i.query=(l=i.search||"")?(/^[?#]/.test(l)?l.slice(1):l).split("&").reduce(((s,t)=>{let[e,a]=t.split("=");return s[e]=a?decodeURIComponent(a.replace(/\+/g," ")):"",s}),{}):{},i};let z=0;const B={},Y=(s,t={})=>{"string"==typeof t&&(t={path:t});const{path:e="/",exact:a=!1,strict:i=!1}=t,{re:l,keys:o}=((s,t)=>{const e=`${t.end}${t.strict}`,a=B[e]||(B[e]={}),i=JSON.stringify(s);if(a[i])return a[i];const l=[],o={re:_(s,l,t),keys:l};return z<1e4&&(a[i]=o,z+=1),o})(e,{end:a,strict:i}),n=l.exec(s);if(!n)return null;const[r,...h]=n,c=s===r;return a&&!c?null:{path:e,url:"/"===e&&""===r?"/":r,isExact:c,params:o.reduce(((s,t,e)=>(s[t.name]=h[e],s)),{})}};let F=class{constructor(t){s(this,t),this.context={},this.renderer=()=>null}connectedCallback(){null!=this.subscribe&&(this.unsubscribe=this.subscribe(this.el,"context"))}disconnectedCallback(){null!=this.unsubscribe&&this.unsubscribe()}render(){return this.renderer(Object.assign({},this.context))}get el(){return t(this)}};const J={en:{default:{Yes:"Yes",No:"No"}},"zh-CN":{default:{Yes:"是",No:"否"}},"nl-NL":{default:{Yes:"Ja",No:"Nee"}}};let q=class{constructor(t){s(this,t)}async show(s,t){return this.caption=s,this.message=t,await this.dialog.show(!0),new Promise(((s,t)=>{this.fulfill=s,this.reject=t}))}async hide(){await this.dialog.hide(!0)}async componentWillLoad(){this.i18next=await n(this.culture,J)}async onDismissClick(){this.fulfill(!1),await this.hide()}async onAcceptClick(){this.fulfill(!0),this.fulfill=null,this.reject=null,await this.hide()}render(){const s=s=>this.i18next.t(s);return e(a,null,e("elsa-modal-dialog",{ref:s=>this.dialog=s},e("div",{slot:"content",class:"elsa-py-8 elsa-px-4"},e("div",{class:"hidden sm:elsa-block elsa-absolute elsa-top-0 elsa-right-0 elsa-pt-4 elsa-pr-4"},e("button",{type:"button",onClick:()=>this.onDismissClick(),class:"elsa-bg-white elsa-rounded-md elsa-text-gray-400 hover:elsa-text-gray-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500"},e("span",{class:"elsa-sr-only"},"Close"),e("svg",{class:"elsa-h-6 elsa-w-6","x-description":"Heroicon name: outline/x",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),e("div",{class:"sm:elsa-flex sm:elsa-items-start"},e("div",{class:"elsa-mx-auto elsa-flex-shrink-0 elsa-flex elsa-items-center elsa-justify-center elsa-h-12 elsa-w-12 elsa-rounded-full elsa-bg-red-100 sm:elsa-mx-0 sm:elsa-h-10 sm:elsa-w-10"},e("svg",{class:"elsa-h-6 elsa-w-6 elsa-text-red-600","x-description":"Heroicon name: outline/exclamation",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),e("div",{class:"elsa-mt-3 elsa-text-center sm:elsa-mt-0 sm:elsa-ml-4 sm:elsa-text-left"},e("h3",{class:"elsa-text-lg elsa-leading-6 elsa-font-medium elsa-text-gray-900",id:"modal-title"},this.caption),e("div",{class:"elsa-mt-2"},e("p",{class:"elsa-text-sm elsa-text-gray-500"},this.message))))),e("div",{slot:"buttons"},e("div",{class:"elsa-bg-gray-50 elsa-px-4 elsa-py-3 sm:elsa-px-6 sm:elsa-flex sm:elsa-flex-row-reverse"},e("button",{type:"button",onClick:()=>this.onAcceptClick(),class:"elsa-w-full elsa-inline-flex elsa-justify-center elsa-rounded-md elsa-border elsa-border-transparent elsa-shadow-sm elsa-px-4 elsa-py-2 elsa-bg-red-600 elsa-text-base elsa-font-medium elsa-text-white hover:elsa-bg-red-700 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-red-500 sm:elsa-ml-3 sm:elsa-w-auto sm:elsa-text-sm"},s("Yes")),e("button",{type:"button",onClick:()=>this.onDismissClick(),class:"elsa-mt-3 elsa-w-full elsa-inline-flex elsa-justify-center elsa-rounded-md elsa-border elsa-border-gray-300 elsa-shadow-sm elsa-px-4 elsa-py-2 elsa-bg-white elsa-text-base elsa-font-medium elsa-text-gray-700 hover:elsa-text-gray-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:ring-indigo-500 sm:elsa-mt-0 sm:elsa-w-auto sm:elsa-text-sm"},s("No"))))))}},V=class{constructor(t){s(this,t),this.shown=i(this,"shown",7),this.hidden=i(this,"hidden",7),this.handleDefaultClose=async()=>{await this.hide()}}render(){return this.renderModal()}async show(s=!0){this.showInternal(s)}async hide(s=!0){await c.emit(d.HideModalDialog),this.hideInternal(s)}showInternal(s){this.isVisible=!0,s||(this.overlay.style.opacity="1",this.modal.style.opacity="1"),r(this.overlay),r(this.modal).then(this.shown.emit)}hideInternal(s){s||(this.isVisible=!1),h(this.overlay),h(this.modal).then((()=>{this.isVisible=!1,this.hidden.emit()}))}async handleKeyDown(s){this.isVisible&&"Escape"===s.key&&await this.hide(!0)}renderModal(){return e(a,{class:{hidden:!this.isVisible,"elsa-block":!0}},e("div",{class:"elsa-fixed elsa-z-10 elsa-inset-0 elsa-overflow-y-auto"},e("div",{class:"elsa-flex elsa-items-end elsa-justify-center elsa-min-h-screen elsa-pt-4 elsa-px-4 elsa-pb-20 elsa-text-center sm:elsa-block sm:elsa-p-0"},e("div",{ref:s=>this.overlay=s,onClick:()=>this.hide(!0),"data-transition-enter":"elsa-ease-out elsa-duration-300","data-transition-enter-start":"elsa-opacity-0","data-transition-enter-end":"elsa-opacity-0","data-transition-leave":"elsa-ease-in elsa-duration-200","data-transition-leave-start":"elsa-opacity-0","data-transition-leave-end":"elsa-opacity-0",class:"hidden elsa-fixed elsa-inset-0 elsa-transition-opacity","aria-hidden":"true"},e("div",{class:"elsa-absolute elsa-inset-0 elsa-bg-gray-500 elsa-opacity-75"})),e("span",{class:"hidden sm:elsa-inline-block sm:elsa-align-middle sm:elsa-h-screen","aria-hidden":"true"}),e("div",{ref:s=>this.modal=s,"data-transition-enter":"elsa-ease-out elsa-duration-300","data-transition-enter-start":"elsa-opacity-0 elsa-translate-y-4 sm:elsa-translate-y-0 sm:elsa-scale-95","data-transition-enter-end":"elsa-opacity-0 elsa-translate-y-0 sm:elsa-scale-100","data-transition-leave":"elsa-ease-in elsa-duration-200","data-transition-leave-start":"elsa-opacity-0 elsa-translate-y-0 sm:elsa-scale-100","data-transition-leave-end":"elsa-opacity-0 elsa-translate-y-4 sm:elsa-translate-y-0 sm:elsa-scale-95",class:"hidden elsa-inline-block sm:elsa-align-top elsa-bg-white elsa-rounded-lg elsa-text-left elsa-overflow-visible elsa-shadow-xl elsa-transform elsa-transition-all sm:elsa-my-8 sm:elsa-align-top sm:elsa-max-w-4xl sm:elsa-w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},e("div",{class:"modal-content"},e("slot",{name:"content"})),e("slot",{name:"buttons"},e("div",{class:"elsa-bg-gray-50 elsa-px-4 elsa-py-3 sm:elsa-px-6 sm:elsa-flex sm:elsa-flex-row-reverse"},e("button",{type:"button",onClick:this.handleDefaultClose,class:"elsa-mt-3 elsa-w-full elsa-inline-flex elsa-justify-center elsa-rounded-md elsa-border elsa-border-gray-300 elsa-shadow-sm elsa-px-4 elsa-py-2 elsa-bg-white elsa-text-base elsa-font-medium elsa-text-gray-700 hover:elsa-bg-gray-50 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 sm:elsa-mt-0 sm:elsa-ml-3 sm:elsa-w-auto sm:elsa-text-sm"},"Close")))))))}};const Q={en:{default:{WorkflowDefinitions:"Workflow Definitions",WorkflowInstances:"Workflow Instances",WorkflowRegistry:"Workflow Registry",WebhookDefinitions:"Webhook Definitions"}},"zh-CN":{default:{WorkflowDefinitions:"工作流定义",WorkflowInstances:"工作流实例",WorkflowRegistry:"工作流程注册表",WebhookDefinitions:"Webhook定义"}},"nl-NL":{default:{WorkflowDefinitions:"Workflow Definities",WorkflowInstances:"Workflows",WorkflowRegistry:"Workflow Register",WebhookDefinitions:"Webhook Definities"}}};let G=class{constructor(t){s(this,t),this.basePath="",this.dashboardMenu={data:{menuItems:[["workflow-definitions","Workflow Definitions"],["workflow-instances","Workflow Instances"],["workflow-registry","Workflow Registry"]],routes:[["","elsa-studio-home",!0],["workflow-registry","elsa-studio-workflow-registry",!0],["workflow-registry/:id","elsa-studio-workflow-blueprint-view"],["workflow-definitions","elsa-studio-workflow-definitions-list",!0],["workflow-definitions/:id","elsa-studio-workflow-definitions-edit"],["workflow-instances","elsa-studio-workflow-instances-list",!0],["workflow-instances/:id","elsa-studio-workflow-instances-view"]]}}}async componentWillLoad(){this.i18next=await n(this.culture,Q),await c.emit(d.Dashboard.Appearing,this,this.dashboardMenu)}render(){const s=l("./assets/logo.png"),t=this.basePath||"",a=p(this.i18next);let i=null!=this.dashboardMenu.data?this.dashboardMenu.data.menuItems:[],o=null!=this.dashboardMenu.data?this.dashboardMenu.data.routes:[];return e("div",{class:"elsa-h-screen elsa-bg-gray-100"},e("nav",{class:"elsa-bg-gray-800"},e("div",{class:"elsa-px-4 sm:elsa-px-6 lg:elsa-px-8"},e("div",{class:"elsa-flex elsa-items-center elsa-justify-between elsa-h-16"},e("div",{class:"elsa-flex elsa-items-center"},e("div",{class:"elsa-flex-shrink-0"},e("stencil-route-link",{url:`${t}/`},e("img",{class:"elsa-h-8 elsa-w-8",src:s,alt:"Workflow"}))),e("div",{class:"hidden md:elsa-block"},e("div",{class:"elsa-ml-10 elsa-flex elsa-items-baseline elsa-space-x-4"},i.map((s=>((s,t)=>e("stencil-route-link",{url:`${t}/${s[0]}`,anchorClass:"elsa-text-gray-300 hover:elsa-bg-gray-700 hover:elsa-text-white elsa-px-3 elsa-py-2 elsa-rounded-md elsa-text-sm elsa-font-medium",activeClass:"elsa-text-white elsa-bg-gray-900"},e(a,{label:`${s[1]}`})))(s,t))))))))),e("main",null,e("stencil-router",null,e("stencil-route-switch",{scrollTopOffset:0},o.map((s=>((s,t)=>e("stencil-route",{url:`${t}/${s[0]}`,component:`${s[1]}`,exact:s[2]}))(s,t)))))))}static get assetsDirs(){return["assets"]}};m.injectProps(G,["culture","basePath"]);let K=class{constructor(t){s(this,t),this.initializing=i(this,"initializing",7),this.initialized=i(this,"initialized",7),this.basePath="",this.onShowConfirmDialog=s=>s.promise=this.confirmDialog.show(s.caption,s.message),this.onHideConfirmDialog=async()=>await this.confirmDialog.hide(),this.onShowToastNotification=async s=>await this.toastNotificationElement.show(s),this.onHideToastNotification=async()=>await this.toastNotificationElement.hide()}async addPlugins(s){k.registerPlugins(s)}async addPlugin(s){k.registerPlugin(s)}workflowChangedHandler(s){c.emit(d.WorkflowModelChanged,this,s.detail)}connectedCallback(){c.on(d.ShowConfirmDialog,this.onShowConfirmDialog),c.on(d.HideConfirmDialog,this.onHideConfirmDialog),c.on(d.ShowToastNotification,this.onShowToastNotification),c.on(d.HideToastNotification,this.onHideToastNotification)}disconnectedCallback(){c.detach(d.ShowConfirmDialog,this.onShowConfirmDialog),c.detach(d.HideConfirmDialog,this.onHideConfirmDialog),c.detach(d.ShowToastNotification,this.onShowToastNotification),c.detach(d.HideToastNotification,this.onHideToastNotification)}async componentWillLoad(){const s=()=>b(this.serverUrl);this.config&&await fetch(`${document.location.origin}/${this.config}`).then((s=>{if(!s.ok)throw new Error("HTTP error "+s.status);return s.json()})).then((s=>{this.featuresConfig=s})).catch((s=>{console.error(s)}));const t=this.elsaStudio={serverUrl:this.serverUrl,basePath:this.basePath,features:this.featuresConfig,serverFeatures:[],eventBus:c,pluginManager:k,propertyDisplayManager:j,activityIconProvider:w,confirmDialogService:g,toastNotificationService:y,elsaClientFactory:s,httpClientFactory:()=>v(this.serverUrl),getOrCreateProperty:u,htmlToElement:f};this.initializing.emit(t),await c.emit(d.Root.Initializing),k.initialize(t),j.initialize(t),x.initialize(t);const e=await s();t.serverFeatures=await e.featuresApi.list()}async componentDidLoad(){this.initialized.emit(this.elsaStudio),await c.emit(d.Root.Initialized)}render(){return e(m.Provider,{state:{serverUrl:this.serverUrl,basePath:this.basePath,serverFeatures:this.elsaStudio.serverFeatures,culture:this.culture,monacoLibPath:this.monacoLibPath}},e("slot",null),e("elsa-confirm-dialog",{ref:s=>this.confirmDialog=s,culture:this.culture}),e("elsa-toast-notification",{ref:s=>this.toastNotificationElement=s}))}},X=class{constructor(t){s(this,t),this.isVisible=!1}async show(s){this.isVisible=!0,r(this.toast),s.autoCloseIn&&setTimeout((async()=>await this.hide()),s.autoCloseIn),this.title=s.title,this.message=s.message}async hide(){h(this.toast).then((()=>this.isVisible=!1))}render(){return this.renderToast()}renderToast(){return e(a,{class:{hidden:!this.isVisible,"elsa-block":!0}},e("div",{class:"elsa-fixed elsa-inset-0 elsa-z-20 elsa-flex elsa-items-end elsa-justify-center elsa-px-4 elsa-py-6 elsa-pointer-events-none sm:elsa-p-6 sm:elsa-items-start sm:elsa-justify-end"},e("div",{ref:s=>this.toast=s,"data-transition-enter":"elsa-transform elsa-ease-out elsa-duration-300 elsa-transition","data-transition-enter-start":"elsa-translate-y-2 elsa-opacity-0 sm:elsa-translate-y-0 sm:elsa-translate-x-2","data-transition-enter-end":"elsa-translate-y-0 elsa-opacity-100 sm:elsa-translate-x-0","data-transition-leave":"elsa-transition elsa-ease-in elsa-duration-100","data-transition-leave-start":"elsa-opacity-0","data-transition-leave-end":"elsa-opacity-0",class:"elsa-max-w-sm elsa-w-full elsa-bg-white elsa-shadow-lg elsa-rounded-lg elsa-pointer-events-auto elsa-ring-1 elsa-ring-black elsa-ring-opacity-5 elsa-overflow-hidden"},e("div",{class:"elsa-p-4"},e("div",{class:"elsa-flex elsa-items-start"},e("div",{class:"elsa-flex-shrink-0"},e("svg",{class:"elsa-h-6 elsa-w-6 elsa-text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),e("div",{class:"elsa-ml-3 elsa-w-0 elsa-flex-1 elsa-pt-0.5"},this.renderTitle(),e("p",{class:"elsa-mt-1 elsa-text-sm elsa-text-gray-500"},this.message)),e("div",{class:"elsa-ml-4 elsa-flex-shrink-0 elsa-flex"},e("button",{class:"elsa-bg-white elsa-rounded-md elsa-inline-flex elsa-text-gray-400 hover:elsa-text-gray-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500"},e("span",{class:"elsa-sr-only"},"Close"),e("svg",{class:"elsa-h-5 elsa-w-5","x-description":"Heroicon name: solid/x",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})))))))))}renderTitle(){if(this.title&&0!=this.title.length)return e("p",{class:"elsa-text-sm elsa-font-medium elsa-text-gray-900"},this.title)}},Z=class{constructor(t){s(this,t),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(s){const t=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(s&&!t)return this.previousMatch=this.match,this.match=Y(s.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let s={};var t,e;this.history&&this.history.location.hash?s={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(s={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(s):!this.match||(e=this.previousMatch,null==(t=this.match)&&null==e||null!=e&&t&&e&&t.path===e.path&&t.url===e.url&&N(t.params,e.params))||!this.routeViewsUpdated||this.routeViewsUpdated(s)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const s=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},s,{component:this.component})):this.component?e(this.component,Object.assign({},s)):void 0}get el(){return t(this)}static get watchers(){return{location:["computeMatch"]}}};C.injectProps(Z,["location","history","historyType","routeViewsUpdated"]),Z.style="";const ss=(s,t,e)=>e(s.confirm(t)),ts=(s,t)=>{const e=s[t],a="__storage_test__";try{return e.setItem(a,a),e.removeItem(a),!0}catch(s){return s instanceof DOMException&&(22===s.code||1014===s.code||"QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&0!==e.length}};let es=class{constructor(t){s(this,t),this.unsubscribe=()=>{},this.activeClass="link-active",this.exact=!1,this.strict=!0,this.custom="a",this.match=null}componentWillLoad(){this.computeMatch()}computeMatch(){this.location&&(this.match=Y(this.location.pathname,{path:this.urlMatch||this.url,exact:this.exact,strict:this.strict}))}handleClick(s){var t,e,a;if(!((t=s).metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&this.history&&this.url&&this.root)return s.preventDefault(),this.history.push((a=this.root,"/"==(e=this.url).charAt(0)&&"/"==a.charAt(a.length-1)?a.slice(0,a.length-1)+e:a+e))}render(){let s={class:{[this.activeClass]:null!==this.match},onClick:this.handleClick.bind(this)};return this.anchorClass&&(s.class[this.anchorClass]=!0),"a"===this.custom&&(s=Object.assign({},s,{href:this.url,title:this.anchorTitle,role:this.anchorRole,tabindex:this.anchorTabIndex,"aria-haspopup":this.ariaHaspopup,id:this.anchorId,"aria-posinset":this.ariaPosinset,"aria-setsize":this.ariaSetsize,"aria-label":this.ariaLabel})),e(this.custom,Object.assign({},s),e("slot",null))}get el(){return t(this)}static get watchers(){return{location:["computeMatch"]}}};C.injectProps(es,["history","location","root"]);const as=s=>"STENCIL-ROUTE"===s.tagName;let is=class{constructor(t){s(this,t),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=o(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(s){if(null==s)return;let t=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(as).map(((e,a)=>{const i=Y(s.pathname,{path:e.url,exact:e.exact,strict:!0});return i&&-1===t&&(t=a),{el:e,match:i}})),-1===t)return;if(this.activeIndex===t)return void(this.subscribers[t].el.match=this.subscribers[t].match);this.activeIndex=t;const e=this.subscribers[this.activeIndex];this.scrollTopOffset&&(e.el.scrollTopOffset=this.scrollTopOffset),e.el.group=this.group,e.el.match=e.match,e.el.componentUpdated=s=>{this.queue.write((()=>{this.subscribers.forEach(((s,t)=>{if(s.el.componentUpdated=void 0,t===this.activeIndex)return s.el.style.display="";this.scrollTopOffset&&(s.el.scrollTopOffset=this.scrollTopOffset),s.el.group=this.group,s.el.match=null,s.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},s))}}render(){return e("slot",null)}get el(){return t(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};C.injectProps(is,["location","routeViewsUpdated"]);const ls=(s,...t)=>{s||console.warn(...t)},os=()=>{let s,t=[];return{setPrompt:t=>(ls(null==s,"A history supports only one prompt at a time"),s=t,()=>{s===t&&(s=null)}),confirmTransitionTo:(t,e,a,i)=>{if(null!=s){const l="function"==typeof s?s(t,e):s;"string"==typeof l?"function"==typeof a?a(l,i):(ls(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==l)}else i(!0)},appendListener:s=>{let e=!0;const a=(...t)=>{e&&s(...t)};return t.push(a),()=>{e=!1,t=t.filter((s=>s!==a))}},notifyListeners:(...s)=>{t.forEach((t=>t(...s)))}}},ns=(s,t="scrollPositions")=>{let e=new Map;const a=(t,a)=>{if(e.set(t,a),ts(s,"sessionStorage")){const t=[];e.forEach(((s,e)=>{t.push([e,s])})),s.sessionStorage.setItem("scrollPositions",JSON.stringify(t))}};if(ts(s,"sessionStorage")){const a=s.sessionStorage.getItem(t);e=a?new Map(JSON.parse(a)):e}return"scrollRestoration"in s.history&&(history.scrollRestoration="manual"),{set:a,get:s=>e.get(s),has:s=>e.has(s),capture:t=>{a(t,[s.scrollX,s.scrollY])}}},rs={hashbang:{encodePath:s=>"!"===s.charAt(0)?s:"!/"+$(s),decodePath:s=>"!"===s.charAt(0)?s.substr(1):s},noslash:{encodePath:$,decodePath:M},slash:{encodePath:M,decodePath:M}},hs=(s,t)=>{const e=0==s.pathname.indexOf(t)?"/"+s.pathname.slice(t.length):s.pathname;return Object.assign({},s,{pathname:e})},cs={browser:(s,t={})=>{let e=!1;const a=s.history,i=s.location,l=s.navigator,o=(s=>{const t=s.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&s.history&&"pushState"in s.history})(s),n=!(-1===l.userAgent.indexOf("Trident")),r=ns(s),h=null!=t.forceRefresh&&t.forceRefresh,c=null!=t.getUserConfirmation?t.getUserConfirmation:ss,d=null!=t.keyLength?t.keyLength:6,u=t.basename?D(M(t.basename)):"",f=()=>{try{return s.history.state||{}}catch(s){return{}}},p=s=>{s=s||{};const{key:t,state:e}=s,{pathname:a,search:l,hash:o}=i;let n=a+l+o;return ls(!u||R(n,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+n+'" to begin with "'+u+'".'),u&&(n=T(n,u)),I(n,e,t||H(d))},m=os(),w=s=>{r.capture(L.location.key),Object.assign(L,s),L.location.scrollPosition=r.get(L.location.key),L.length=a.length,m.notifyListeners(L.location,L.action)},g=s=>{((s,t)=>void 0===t.state&&-1===s.userAgent.indexOf("CriOS"))(l,s)||b(p(s.state))},y=()=>{b(p(f()))},b=s=>{if(e)e=!1,w();else{const t="POP";m.confirmTransitionTo(s,t,c,(e=>{e?w({action:t,location:s}):v(s)}))}},v=s=>{let t=k.indexOf(L.location.key),a=k.indexOf(s.key);-1===t&&(t=0),-1===a&&(a=0);const i=t-a;i&&(e=!0,W(i))},x=p(f());let k=[x.key],j=0,C=!1;const P=s=>u+S(s),W=s=>{a.go(s)},O=t=>{j+=t,1===j?(s.addEventListener("popstate",g),n&&s.addEventListener("hashchange",y)):0===j&&(s.removeEventListener("popstate",g),n&&s.removeEventListener("hashchange",y))},L={length:a.length,action:"POP",location:x,createHref:P,push:(s,t)=>{ls(!("object"==typeof s&&void 0!==s.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const e="PUSH",l=I(s,t,H(d),L.location);m.confirmTransitionTo(l,e,c,(s=>{if(!s)return;const t=P(l),{key:n,state:r}=l;if(o)if(a.pushState({key:n,state:r},"",t),h)i.href=t;else{const s=k.indexOf(L.location.key),t=k.slice(0,-1===s?0:s+1);t.push(l.key),k=t,w({action:e,location:l})}else ls(void 0===r,"Browser history cannot push state in browsers that do not support HTML5 history"),i.href=t}))},replace:(s,t)=>{ls(!("object"==typeof s&&void 0!==s.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const e="REPLACE",l=I(s,t,H(d),L.location);m.confirmTransitionTo(l,e,c,(s=>{if(!s)return;const t=P(l),{key:n,state:r}=l;if(o)if(a.replaceState({key:n,state:r},"",t),h)i.replace(t);else{const s=k.indexOf(L.location.key);-1!==s&&(k[s]=l.key),w({action:e,location:l})}else ls(void 0===r,"Browser history cannot replace state in browsers that do not support HTML5 history"),i.replace(t)}))},go:W,goBack:()=>W(-1),goForward:()=>W(1),block:(s="")=>{const t=m.setPrompt(s);return C||(O(1),C=!0),()=>(C&&(C=!1,O(-1)),t())},listen:s=>{const t=m.appendListener(s);return O(1),()=>{O(-1),t()}},win:s};return L},hash:(s,t={})=>{let e=!1,a=null,i=0,l=!1;const o=s.location,n=s.history,r=-1===s.navigator.userAgent.indexOf("Firefox"),h=null!=t.keyLength?t.keyLength:6,{getUserConfirmation:c=ss,hashType:d="slash"}=t,u=t.basename?D(M(t.basename)):"",{encodePath:f,decodePath:p}=rs[d],m=()=>{const s=o.href,t=s.indexOf("#");return-1===t?"":s.substring(t+1)},w=s=>{const t=o.href.indexOf("#");o.replace(o.href.slice(0,t>=0?t:0)+"#"+s)},g=()=>{let s=p(m());return ls(!u||R(s,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+u+'".'),u&&(s=T(s,u)),I(s,void 0,H(h))},y=os(),b=s=>{Object.assign(E,s),E.length=n.length,y.notifyListeners(E.location,E.action)},v=()=>{const s=m(),t=f(s);if(s!==t)w(t);else{const s=g(),t=E.location;if(!e&&(i=t).pathname===(l=s).pathname&&i.search===l.search&&i.hash===l.hash&&i.key===l.key&&N(i.state,l.state))return;if(a===S(s))return;a=null,x(s)}var i,l},x=s=>{if(e)e=!1,b();else{const t="POP";y.confirmTransitionTo(s,t,c,(e=>{e?b({action:t,location:s}):k(s)}))}},k=s=>{let t=W.lastIndexOf(S(E.location)),a=W.lastIndexOf(S(s));-1===t&&(t=0),-1===a&&(a=0);const i=t-a;i&&(e=!0,O(i))},j=m(),C=f(j);j!==C&&w(C);const P=g();let W=[S(P)];const O=s=>{ls(r,"Hash history go(n) causes a full page reload in this browser"),n.go(s)},L=(s,t)=>{i+=t,1===i?s.addEventListener("hashchange",v):0===i&&s.removeEventListener("hashchange",v)},E={length:n.length,action:"POP",location:P,createHref:s=>"#"+f(u+S(s)),push:(s,t)=>{ls(void 0===t,"Hash history cannot push state; it is ignored");const e="PUSH",i=I(s,void 0,H(h),E.location);y.confirmTransitionTo(i,e,c,(s=>{if(!s)return;const t=S(i),l=f(u+t);if(m()!==l){a=t,(s=>{o.hash=s})(l);const s=W.lastIndexOf(S(E.location)),n=W.slice(0,-1===s?0:s+1);n.push(t),W=n,b({action:e,location:i})}else ls(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),b()}))},replace:(s,t)=>{ls(void 0===t,"Hash history cannot replace state; it is ignored");const e="REPLACE",i=I(s,void 0,H(h),E.location);y.confirmTransitionTo(i,e,c,(s=>{if(!s)return;const t=S(i),l=f(u+t);m()!==l&&(a=t,w(l));const o=W.indexOf(S(E.location));-1!==o&&(W[o]=t),b({action:e,location:i})}))},go:O,goBack:()=>O(-1),goForward:()=>O(1),block:(t="")=>{const e=y.setPrompt(t);return l||(L(s,1),l=!0),()=>(l&&(l=!1,L(s,-1)),e())},listen:t=>{const e=y.appendListener(t);return L(s,1),()=>{L(s,-1),e()}},win:s};return E}};let ds=class{constructor(t){s(this,t),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(s={})=>{if(this.history&&s.scrollToId&&"browser"===this.historyType){const t=this.history.win.document.getElementById(s.scrollToId);if(t)return t.scrollIntoView()}this.scrollTo(s.scrollTopOffset||this.scrollTopOffset)},this.isServer=o(this,"isServer"),this.queue=o(this,"queue")}componentWillLoad(){this.history=cs[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((s=>{s=hs(s,this.root),this.location=s})),this.location=hs(this.history.location,this.root)}scrollTo(s){const t=this.history;if(null!=s&&!this.isServer&&t)return"POP"===t.action&&Array.isArray(t.location.scrollPosition)?this.queue.write((()=>{t&&t.location&&Array.isArray(t.location.scrollPosition)&&t.win.scrollTo(t.location.scrollPosition[0],t.location.scrollPosition[1])})):this.queue.write((()=>{t.win.scrollTo(0,s)}))}render(){if(this.location&&this.history)return e(C.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return t(this)}};export{F as context_consumer,q as elsa_confirm_dialog,V as elsa_modal_dialog,G as elsa_studio_dashboard,K as elsa_studio_root,X as elsa_toast_notification,Z as stencil_route,es as stencil_route_link,is as stencil_route_switch,ds as stencil_router}